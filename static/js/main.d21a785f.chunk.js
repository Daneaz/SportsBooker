(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(96),a(31)),l=a.n(i),s=a(40),u=a(11),m=a(148),p=a(70),f=a(13),d=a(158),b=a(118),h=a(147),v=a(149),g=a(150),k=a(162),y=a(153),E=a(164),x=a(160),w=a(167),M=a(157),C=a(156),S=a(159),O=a(56),P=a.n(O),N=function(e,t,a){var n={method:e,headers:{"Content-Type":"application/json"},timeout:3e4};return a&&(n.headers.Authorization="Bearer ".concat(a)),t&&(n.body=JSON.stringify(t)),n},T=function(){var e=Object(s.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(s.a)(l.a.mark((function e(r,c){var o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch((l=a,"".concat("https://booker.playunitedsg.com").concat(l.startsWith("/")?"":"/").concat(l)),N(t,n));case 3:return o=e.sent,e.prev=4,e.next=7,o.json();case 7:i=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),i=o;case 13:e.t1=o.status,e.next=200===e.t1||201===e.t1||202===e.t1||204===e.t1?16:400===e.t1?18:401===e.t1?20:403===e.t1?22:404===e.t1?24:406===e.t1?26:409===e.t1?28:500===e.t1?30:32;break;case 16:return r(i),e.abrupt("break",34);case 18:case 20:return c(i),e.abrupt("break",34);case 22:return c("Permission denied. ".concat(i)),e.abrupt("break",34);case 24:return c("Error 404. ".concat(i.message,", url: ").concat(i.url)),e.abrupt("break",34);case 26:return c("Request content error. ".concat(i)),e.abrupt("break",34);case 28:return c("Conflict... ".concat(i)),e.abrupt("break",34);case 30:return c("Internal server error, ".concat(i)),e.abrupt("break",34);case 32:return c("Unknown status: ".concat(o.status,", Error: ").concat(JSON.stringify(i),"}")),e.abrupt("break",34);case 34:e.next=39;break;case 36:e.prev=36,e.t2=e.catch(0),"TypeError: Network request failed"===e.t2.toString()?c("Network error, please check your network connection and retry. If error still exist, please contact administrator for help"):c("Unknown Response ".concat(e.t2));case 39:case"end":return e.stop()}var l}),e,null,[[0,36],[4,10]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),B=a(57),j=a.n(B),W=["07:00 AM","08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM","07:00 PM","08:00 PM","09:00 PM"],D=["60","120"],A=[{text:"Badminton Courts",value:31},{text:"Basketball Courts (OCBC Arena)",value:32},{text:"Table Tennis Tables",value:33},{text:"Netball Courts",value:34},{text:"Volleyball Courts",value:35},{text:"Basketball Courts (Sports Hub Hard Courts)",value:42},{text:"Tennis Indoor Courts",value:85}];function I(){return r.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"https://github.com/Daneaz/sports_booker"},"Eugene Wu")," ",(new Date).getFullYear(),".")}var q=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},itemMargin:{marginTop:e.spacing(1)},form:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},submit:{marginTop:e.spacing(5)},multiSelect:{marginTop:e.spacing(3)}}}));function J(){var e=q(),t=r.a.useState(P()(new Date).add(7,"days")),a=Object(u.a)(t,2),n=a[0],c=a[1],o=r.a.useState("02:00 PM"),i=Object(u.a)(o,2),m=i[0],h=i[1],O=r.a.useState(120),N=Object(u.a)(O,2),B=N[0],J=N[1],F=r.a.useState(A[0]),H=Object(u.a)(F,2),z=H[0],R=H[1],U=r.a.useState(""),K=Object(u.a)(U,2),V=K[0],Y=K[1],$=r.a.useState(""),_=Object(u.a)($,2),G=_[0],L=_[1],Q=r.a.useState(!1),X=Object(u.a)(Q,2),Z=X[0],ee=X[1],te=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),t.preventDefault(),e.prev=2,e.next=5,T("POST","book",{email:V,password:G,date:n,time:m,duration:B,type:z});case 5:return a=e.sent,e.next=8,j.a.fire({icon:"success",title:"Success",text:a,showConfirmButton:!0});case 8:ee(!1),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,j.a.fire({icon:"error",title:"Error",html:e.t0+', Please visit <a href="https://sportshub.perfectgym.com/clientportal2/#/FacilityBooking?clubId=1">OCBC SportsHub</a> for more detail',showConfirmButton:!0});case 15:ee(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(b.a,{component:"h1",variant:"h5"},"National Stadium Booker"),r.a.createElement("form",{className:e.form,onSubmit:te},r.a.createElement(k.a,{required:!0,className:e.itemMargin,fullWidth:!0,label:"Email:",onChange:function(e){Y(e.target.value)}}),r.a.createElement(k.a,{required:!0,type:"password",className:e.itemMargin,fullWidth:!0,label:"Password:",onChange:function(e){L(e.target.value)}}),r.a.createElement(f.a,{className:e.itemMargin,utils:p.a},r.a.createElement(d.a,{disableToolbar:!0,variant:"inline",format:"yyyy-MM-dd",margin:"normal",minDate:P()(new Date).add(1,"days"),id:"date-picker-inline",label:"Date:",value:n,autoOk:!0,fullWidth:!0,onChange:function(e){c(e)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{className:e.itemMargin,fullWidth:!0},r.a.createElement(E.a,null,"Time:"),r.a.createElement(x.a,{value:m,onChange:function(e){h(e.target.value)}},W.map((function(e,t){return r.a.createElement(w.a,{key:t,value:e},e)})))),r.a.createElement(y.a,{className:e.itemMargin,fullWidth:!0},r.a.createElement(E.a,null,"Duration:"),r.a.createElement(x.a,{value:B,onChange:function(e){J(e.target.value)}},D.map((function(e,t){return r.a.createElement(w.a,{key:t,value:e},e," mins")})))),r.a.createElement(y.a,{className:e.itemMargin,fullWidth:!0},r.a.createElement(E.a,null,"Facility Type:"),r.a.createElement(x.a,{value:z,onChange:function(e){R(e.target.value)}},A.map((function(e,t){return r.a.createElement(w.a,{key:t,value:e},e.text)})))),Z?r.a.createElement(M.a,{className:e.submit}):r.a.createElement(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Book"))),r.a.createElement(S.a,{mt:8},r.a.createElement(I,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(117)},96:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.d21a785f.chunk.js.map